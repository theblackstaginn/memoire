<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Memoire</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>

  <!-- DESK SCENE -->
  <div id="scene">
    <img id="desk-bg" src="./memoire-assets/desk.png" alt="Desk background" />

    <!-- Book = READ (warning first) -->
    <button
      id="book-hitbox"
      class="hitbox"
      type="button"
      aria-label="Open memoirs"
    >
      <img src="./memoire-assets/book.png" alt="" />
    </button>

    <!-- Pen = EDIT (password gated) -->
    <button
      id="pen-hitbox"
      class="hitbox"
      type="button"
      aria-label="Edit memoirs"
    >
      <img src="./memoire-assets/pen.png" alt="" />
    </button>
  </div>

  <!-- GLOBAL MODAL OVERLAY -->
  <div id="modal-overlay" class="hidden">

    <!-- 1. WARNING MODAL -->
    <div id="warning-modal" class="modal card hidden">
      <h2>Private Memoirs</h2>
      <p>
        These pages contain intimate memories. Reading on means you’re ready
        to revisit them.
      </p>
      <div class="modal-actions">
        <button id="btn-warning-leave" type="button" class="btn btn-secondary">
          Leave
        </button>
        <button id="btn-warning-ok" type="button" class="btn btn-primary">
          OK
        </button>
      </div>
    </div>

    <!-- 2. PASSWORD MODAL -->
    <div id="password-modal" class="modal card hidden">
      <h2>Edit Memoirs</h2>
      <p>Enter the password to unlock edit mode.</p>
      <label class="field">
        <span>Password</span>
        <input id="password-input" type="password" autocomplete="off" />
      </label>
      <p id="password-error" class="error hidden">Incorrect password. Try again.</p>
      <div class="modal-actions">
        <button id="btn-password-cancel" type="button" class="btn btn-secondary">
          Cancel
        </button>
        <button id="btn-password-submit" type="button" class="btn btn-primary">
          Unlock
        </button>
      </div>
    </div>

    <!-- 3. READER MODAL -->
    <div id="reader-modal" class="modal sheet hidden">
      <div class="sheet-header">
        <button id="btn-reader-close" type="button" class="icon-btn">
          <img src="./memoire-assets/x-button.png" alt="Close" />
        </button>
        <h2>Memoirs – Read</h2>
      </div>
      <div class="sheet-body reader-body">
        <img
          src="./memoire-assets/open-book.png"
          alt="Open memoir"
          class="open-book-img"
        />
      </div>
    </div>

    <!-- 4. EDITOR MODAL -->
    <div id="edit-modal" class="modal sheet hidden">
      <div class="sheet-header">
        <button id="btn-edit-close" type="button" class="icon-btn">
          <img src="./memoire-assets/x-button.png" alt="Close" />
        </button>
        <h2>Memoirs – Edit</h2>
      </div>
      <div class="sheet-body">
        <div class="edit-wrapper">
          <img src="./memoire-assets/parchment.png" alt="" class="edit-parchment" />
          <div id="edit-area" class="edit-area" contenteditable="true">
            Start writing…
          </div>
        </div>
      </div>
    </div>

  </div>

  <script src="app.js"></script>
</body>
</html>